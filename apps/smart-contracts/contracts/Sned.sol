//SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

import {IERC20} from '@openzeppelin/contracts/token/ERC20/IERC20.sol';
import {IERC721} from '@openzeppelin/contracts/token/ERC721/IERC721.sol';
import {IERC1155} from '@openzeppelin/contracts/token/ERC1155/IERC1155.sol';

error INVALID_PARAM();

contract Sned {
    
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////

    //     __________  ______   ___   ____
    //    / ____/ __ \/ ____/  |__ \ / __ \
    //   / __/ / /_/ / /       __/ // / / /
    //  / /___/ _, _/ /___    / __// /_/ /
    // /_____/_/ |_|\____/   /____/\____/

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////

    function _transferERC20(
        address _token,
        address _to,
        uint256 _amount
    ) internal {
        IERC20(_token).transferFrom(msg.sender, _to, _amount);
    }

    function batchTransferERC20(
        address[] calldata _tokens,
        address _to,
        uint256[] calldata _amounts
    ) external {
        if (_tokens.length != _amounts.length) revert INVALID_PARAM();
        for (uint256 i = 0; i < _tokens.length; ++i) {
            _transferERC20(_tokens[i], _to, _amounts[i]);
        }
    }

    function batchTransferERC20(
        address[] calldata _tokens,
        address[] calldata _to,
        uint256[] calldata _amounts
    ) external {
        if (_tokens.length != _to.length) revert INVALID_PARAM();
        if (_tokens.length != _amounts.length) revert INVALID_PARAM();
        for (uint256 i = 0; i < _tokens.length; ++i) {
            _transferERC20(_tokens[i], _to[i], _amounts[i]);
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////

    //     __________  ______   ________  ___
    //    / ____/ __ \/ ____/  /__  /__ \<  /
    //   / __/ / /_/ / /         / /__/ // /
    //  / /___/ _, _/ /___      / // __// /
    // /_____/_/ |_|\____/     /_//____/_/

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////

    function _transferERC721(
        address _token,
        address _to,
        uint256 _tokenId
    ) internal {
        IERC721(_token).transferFrom(msg.sender, _to, _tokenId);
    }

    function batchTransferERC721(
        address[] calldata _tokens,
        address _to,
        uint256[] calldata _tokenIds,
        uint256[] calldata _offset
    ) external {
        if (_tokens.length != _offset.length) revert INVALID_PARAM();

        uint256 offset = 0;

        for (uint256 i = 0; i < _tokens.length; ++i) {
            for (uint256 j = 0; j < _offset[i]; ++j) {
                _transferERC721(_tokens[i], _to, _tokenIds[j + offset]);
            }
            offset += _offset[i];
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////

    //     __________  ______   __________________
    //    / ____/ __ \/ ____/  <  <  / ____/ ____/
    //   / __/ / /_/ / /       / // /___ \/___ \
    //  / /___/ _, _/ /___    / // /___/ /___/ /
    // /_____/_/ |_|\____/   /_//_/_____/_____/

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////

    function _transferERC1155(
        address _token,
        address _to,
        uint256 _tokenId,
        uint256 _amount
    ) internal {
        IERC1155(_token).safeTransferFrom(
            msg.sender,
            _to,
            _tokenId,
            _amount,
            ''
        );
    }

    function batchTransferERC1155(
        address _token,
        address _to,
        uint256[] calldata _tokenIds,
        uint256[] calldata _amounts
    ) external {
        IERC1155(_token).safeTransferFrom(
            msg.sender,
            _to,
            _tokenIds,
            _amounts,
            ''
        );
    }
}
